{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/seungwooyoon/Programming/Financify/financify/src/app/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function FileDrop() {\n  const [file, setFile] = useState<File | null>(null);\n  const [text, setText] = useState<string>(\"\");\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!file) {\n      setPreviewUrl(null);\n      return;\n    }\n    const url = URL.createObjectURL(file);\n    setPreviewUrl(url);\n    return () => URL.revokeObjectURL(url);\n  }, [file]);\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => e.preventDefault();\n\n  const handleDrop = async (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    const dtFiles = e.dataTransfer.files;\n    if (!dtFiles || dtFiles.length === 0) return;\n    const droppedFile = dtFiles[0];\n    setFile(droppedFile);\n    await uploadFile(droppedFile);\n  };\n\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const picked = e.target.files?.[0] ?? null;\n    if (!picked) return;\n    setFile(picked);\n    await uploadFile(picked);\n  };\n\n  async function uploadFile(fileToUpload?: File) {\n    const f = fileToUpload ?? file;\n    if (!f) {\n      console.warn(\"No file to upload\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", f);\n\n    try {\n      const res = await fetch(\"http://127.0.0.1:8000/process-image/\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!res.ok) {\n        const body = await res.text();\n        console.error(\"Server returned error:\", res.status, body);\n        setText(`Server error: ${res.status}`);\n        return;\n      }\n\n      const data = await res.json();\n      console.log(\"Backend response:\", data);\n\n      if (Array.isArray(data.sentences)) {\n        setText(data.sentences.join(\"\\n\"));\n      } else if (typeof data.text === \"string\") {\n        setText(data.text);\n      } else {\n        setText(JSON.stringify(data));\n      }\n    } catch (err) {\n      console.error(\"Upload failed:\", err);\n      setText(\"Upload failed â€” see console for details.\");\n    }\n  }\n\n  return (\n    <>\n      <div\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n        style={{\n          border: \"2px dashed #aaa\",\n          borderRadius: 10,\n          padding: 40,\n          textAlign: \"center\",\n          cursor: \"pointer\",\n        }}\n      >\n        <input\n          id=\"fileInput\"\n          type=\"file\"\n          onChange={handleFileSelect}\n          style={{ display: \"none\" }}\n        />\n        <label htmlFor=\"fileInput\" style={{ cursor: \"pointer\" }}>\n          {file ? `Selected file: ${file.name}` : \"Drag & drop a file here or click to upload\"}\n        </label>\n      </div>\n\n      {file && file.type.startsWith(\"image/\") && previewUrl && (\n        <div style={{ marginTop: 20 }}>\n          <img src={previewUrl} alt=\"Preview\" style={{ maxWidth: 300, maxHeight: 300 }} />\n        </div>\n      )}\n\n      <div style={{ marginTop: 20 }}>\n        <h3>Your expenses:</h3>\n        <textarea value={text} readOnly style={{ width: 400, height: 300 }} />\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAS;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM;YACT,cAAc;YACd;QACF;QACA,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,cAAc;QACd,OAAO,IAAM,IAAI,eAAe,CAAC;IACnC,GAAG;QAAC;KAAK;IAET,MAAM,iBAAiB,CAAC,IAAuC,EAAE,cAAc;IAE/E,MAAM,aAAa,OAAO;QACxB,EAAE,cAAc;QAChB,MAAM,UAAU,EAAE,YAAY,CAAC,KAAK;QACpC,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG;QACtC,MAAM,cAAc,OAAO,CAAC,EAAE;QAC9B,QAAQ;QACR,MAAM,WAAW;IACnB;IAEA,MAAM,mBAAmB,OAAO;QAC9B,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;QACtC,IAAI,CAAC,QAAQ;QACb,QAAQ;QACR,MAAM,WAAW;IACnB;IAEA,eAAe,WAAW,YAAmB;QAC3C,MAAM,IAAI,gBAAgB;QAC1B,IAAI,CAAC,GAAG;YACN,QAAQ,IAAI,CAAC;YACb;QACF;QAEA,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QAExB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,wCAAwC;gBAC9D,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,CAAC,0BAA0B,IAAI,MAAM,EAAE;gBACpD,QAAQ,CAAC,cAAc,EAAE,IAAI,MAAM,EAAE;gBACrC;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,qBAAqB;YAEjC,IAAI,MAAM,OAAO,CAAC,KAAK,SAAS,GAAG;gBACjC,QAAQ,KAAK,SAAS,CAAC,IAAI,CAAC;YAC9B,OAAO,IAAI,OAAO,KAAK,IAAI,KAAK,UAAU;gBACxC,QAAQ,KAAK,IAAI;YACnB,OAAO;gBACL,QAAQ,KAAK,SAAS,CAAC;YACzB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;YAChC,QAAQ;QACV;IACF;IAEA,qBACE;;0BACE,8OAAC;gBACC,YAAY;gBACZ,QAAQ;gBACR,OAAO;oBACL,QAAQ;oBACR,cAAc;oBACd,SAAS;oBACT,WAAW;oBACX,QAAQ;gBACV;;kCAEA,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,UAAU;wBACV,OAAO;4BAAE,SAAS;wBAAO;;;;;;kCAE3B,8OAAC;wBAAM,SAAQ;wBAAY,OAAO;4BAAE,QAAQ;wBAAU;kCACnD,OAAO,CAAC,eAAe,EAAE,KAAK,IAAI,EAAE,GAAG;;;;;;;;;;;;YAI3C,QAAQ,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,4BACzC,8OAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAG;0BAC1B,cAAA,8OAAC;oBAAI,KAAK;oBAAY,KAAI;oBAAU,OAAO;wBAAE,UAAU;wBAAK,WAAW;oBAAI;;;;;;;;;;;0BAI/E,8OAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAG;;kCAC1B,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAS,OAAO;wBAAM,QAAQ;wBAAC,OAAO;4BAAE,OAAO;4BAAK,QAAQ;wBAAI;;;;;;;;;;;;;;AAIzE","debugId":null}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///Users/seungwooyoon/Programming/Financify/financify/src/app/upload/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Heading, Text } from \"@/components/ui/typography\"\nimport { Upload, FileText, CheckCircle, Camera, FileImage, Shield, Lock } from \"lucide-react\"\nimport { useState } from \"react\"\nimport { motion } from \"framer-motion\"\nimport FileDrop from \"../App\";\n\nexport default function UploadPage() {\n  const [dragActive, setDragActive] = useState(false)\n  const [uploadedFiles, setUploadedFiles] = useState<File[]>([])\n  const [parsedData, setParsedData] = useState<Array<{\n    date: string;\n    description: string;\n    amount: number;\n    category: string;\n  }>>([])\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true)\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false)\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragActive(false)\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const files = Array.from(e.dataTransfer.files)\n      setUploadedFiles(files)\n      // Simulate parsing\n      if (files.length > 0) {\n        setParsedData([\n          { date: \"2025-08-15\", description: \"Coffee Shop\", amount: -4.50, category: \"food\" },\n          { date: \"2025-08-15\", description: \"Gas Station\", amount: -35.20, category: \"transportation\" },\n          { date: \"2025-08-14\", description: \"Grocery Store\", amount: -67.89, category: \"food\" },\n          { date: \"2025-08-14\", description: \"Salary\", amount: 2500.00, category: \"income\" },\n          { date: \"2025-08-13\", description: \"Textbook\", amount: -89.99, category: \"books\" }\n        ])\n      }\n    }\n  }\n\n  const handleFileInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      const files = Array.from(e.target.files)\n      setUploadedFiles(files)\n      // Simulate parsing\n      if (files.length > 0) {\n        setParsedData([\n          { date: \"2025-08-15\", description: \"Coffee Shop\", amount: -4.50, category: \"food\" },\n          { date: \"2025-08-15\", description: \"Gas Station\", amount: -35.20, category: \"transportation\" },\n          { date: \"2025-08-14\", description: \"Grocery Store\", amount: -67.89, category: \"food\" },\n          { date: \"2025-08-14\", description: \"Salary\", amount: 2500.00, category: \"income\" },\n          { date: \"2025-08-13\", description: \"Textbook\", amount: -89.99, category: \"books\" }\n        ])\n      }\n    }\n  }\n\n  return (\n    <FileDrop/>\n  )\n}"],"names":[],"mappings":";;;;;AAMA;AAEA;AARA;;;;AAUe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAKxC,EAAE;IAEN,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,EAAE,IAAI,KAAK,eAAe,EAAE,IAAI,KAAK,YAAY;YACnD,cAAc;QAChB,OAAO,IAAI,EAAE,IAAI,KAAK,aAAa;YACjC,cAAc;QAChB;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;QAEd,IAAI,EAAE,YAAY,CAAC,KAAK,IAAI,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE,EAAE;YACnD,MAAM,QAAQ,MAAM,IAAI,CAAC,EAAE,YAAY,CAAC,KAAK;YAC7C,iBAAiB;YACjB,mBAAmB;YACnB,IAAI,MAAM,MAAM,GAAG,GAAG;gBACpB,cAAc;oBACZ;wBAAE,MAAM;wBAAc,aAAa;wBAAe,QAAQ,CAAC;wBAAM,UAAU;oBAAO;oBAClF;wBAAE,MAAM;wBAAc,aAAa;wBAAe,QAAQ,CAAC;wBAAO,UAAU;oBAAiB;oBAC7F;wBAAE,MAAM;wBAAc,aAAa;wBAAiB,QAAQ,CAAC;wBAAO,UAAU;oBAAO;oBACrF;wBAAE,MAAM;wBAAc,aAAa;wBAAU,QAAQ;wBAAS,UAAU;oBAAS;oBACjF;wBAAE,MAAM;wBAAc,aAAa;wBAAY,QAAQ,CAAC;wBAAO,UAAU;oBAAQ;iBAClF;YACH;QACF;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE;YAClB,MAAM,QAAQ,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK;YACvC,iBAAiB;YACjB,mBAAmB;YACnB,IAAI,MAAM,MAAM,GAAG,GAAG;gBACpB,cAAc;oBACZ;wBAAE,MAAM;wBAAc,aAAa;wBAAe,QAAQ,CAAC;wBAAM,UAAU;oBAAO;oBAClF;wBAAE,MAAM;wBAAc,aAAa;wBAAe,QAAQ,CAAC;wBAAO,UAAU;oBAAiB;oBAC7F;wBAAE,MAAM;wBAAc,aAAa;wBAAiB,QAAQ,CAAC;wBAAO,UAAU;oBAAO;oBACrF;wBAAE,MAAM;wBAAc,aAAa;wBAAU,QAAQ;wBAAS,UAAU;oBAAS;oBACjF;wBAAE,MAAM;wBAAc,aAAa;wBAAY,QAAQ,CAAC;wBAAO,UAAU;oBAAQ;iBAClF;YACH;QACF;IACF;IAEA,qBACE,8OAAC,6HAAQ;;;;;AAEb","debugId":null}}]
}